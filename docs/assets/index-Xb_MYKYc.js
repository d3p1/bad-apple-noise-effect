var w=r=>{throw TypeError(r)};var g=(r,i,n)=>i.has(r)||w("Cannot "+n);var e=(r,i,n)=>(g(r,i,"read from private field"),n?n.call(r):i.get(r)),u=(r,i,n)=>i.has(r)?w("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(r):i.set(r,n),f=(r,i,n,h)=>(g(r,i,"write to private field"),h?h.call(r,n):i.set(r,n),n),c=(r,i,n)=>(g(r,i,"access private method"),n);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))h(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const m of a.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&h(m)}).observe(document,{childList:!0,subtree:!0});function n(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function h(t){if(t.ep)return;t.ep=!0;const a=n(t);fetch(t.href,a)}})();const E="/bad-apple-noise-effect/assets/bad-apple-DcD1J2Su.mp4";var o,l,d,p,s,y,I,L,v,D,O,A,b;class P{constructor(){u(this,s);u(this,o);u(this,l);u(this,d);u(this,p,null);c(this,s,A).call(this),c(this,s,O).call(this)}}o=new WeakMap,l=new WeakMap,d=new WeakMap,p=new WeakMap,s=new WeakSet,y=function(){const i=c(this,s,b).call(this);e(this,l).clearRect(0,0,e(this,o).width,e(this,o).height),e(this,l).drawImage(e(this,d),0,0,e(this,o).width,e(this,o).height),c(this,s,I).call(this,i.data),f(this,p,requestAnimationFrame(c(this,s,y).bind(this)))},I=function(i){const n=c(this,s,b).call(this),h=n.data;for(let t=0;t<h.length;t+=4)if(h[t]===0){const a=c(this,s,L).call(this);h[t]=a,h[t+1]=a,h[t+2]=a}else h[t]=i[t],h[t+1]=i[t+1],h[t+2]=i[t+2];e(this,l).putImageData(n,0,0)},L=function(){return Math.random()*255},v=function(){e(this,d).play().then(()=>{c(this,s,y).call(this)})},D=function(){e(this,p)&&(cancelAnimationFrame(e(this,p)),e(this,d).pause())},O=function(){f(this,d,document.createElement("video")),e(this,d).src=E,e(this,d).muted=!0,e(this,d).addEventListener("loadeddata",()=>{e(this,o).width=e(this,d).videoWidth,e(this,o).height=e(this,d).videoHeight,e(this,o).addEventListener("click",()=>{e(this,d).paused?c(this,s,v).call(this):c(this,s,D).call(this)}),c(this,s,v).call(this)})},A=function(){f(this,o,document.createElement("canvas")),f(this,l,e(this,o).getContext("2d",{willReadFrequently:!0})),e(this,o).style.border="2px solid black",document.body.appendChild(e(this,o))},b=function(){return e(this,l).getImageData(0,0,e(this,o).width,e(this,o).height)};new P;
//# sourceMappingURL=index-Xb_MYKYc.js.map
